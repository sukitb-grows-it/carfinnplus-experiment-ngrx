import { Component } from '@angular/core';
import { HtmlToImageService } from '../../core/service/html-to-image/html-to-image.service';

@Component({
  selector: 'app-demo-create-image-from-html',
  templateUrl: './demo-create-image-from-html.component.html',
  styleUrl: './demo-create-image-from-html.component.scss',
})
export class DemoCreateImageFromHtmlComponent {

  assetsList = [
    {
      id: 1,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/1.jpg',
      image_url2: 'assets/propfinn/show-assets/11.jpg',
      image_url3: 'assets/propfinn/show-assets/111.jpg',
      image_url4: 'assets/propfinn/show-assets/1111.jpg',
      assets_type: 'บ้าน',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี',
      area_size: 200,
    },
    {
      id: 2,
      jobNumber: 'PF231200021',
      type: 'ขายฝาก',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/2.jpg',
      image_url2: 'assets/propfinn/show-assets/22.jpg',
      image_url3: 'assets/propfinn/show-assets/222.jpg',
      image_url4: 'assets/propfinn/show-assets/2222.jpg',
      assets_type: 'คอนโด',
      estimated_price: '10.xx',
      credit_limit: '10.xx',
      location: 'ระยอง',
      area_size: 200,
    },
    {
      id: 3,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/3.jpg',
      image_url2: 'assets/propfinn/show-assets/33.jpg',
      image_url3: 'assets/propfinn/show-assets/333.jpg',
      image_url4: 'assets/propfinn/show-assets/3333.jpg',
      assets_type: 'ตึกแถว - อาคารพาณิชย์',
      estimated_price: '6.xx',
      credit_limit: '6.xx',
      location: 'ลำพูน',
      area_size: 200,
    },
    {
      id: 4,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/4.jpg',
      image_url2: 'assets/propfinn/show-assets/44.jpg',
      image_url3: 'assets/propfinn/show-assets/444.jpg',
      image_url4: 'assets/propfinn/show-assets/4444.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี',
      area_size: 200,
    },
    {
      id: 5,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/3.jpg',
      image_url2: 'assets/propfinn/show-assets/33.jpg',
      image_url3: 'assets/propfinn/show-assets/333.jpg',
      image_url4: 'assets/propfinn/show-assets/3333.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี5',
      area_size: 200,
    },
    {
      id: 6,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/2.jpg',
      image_url2: 'assets/propfinn/show-assets/22.jpg',
      image_url3: 'assets/propfinn/show-assets/222.jpg',
      image_url4: 'assets/propfinn/show-assets/2222.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี6',
      area_size: 200,
    },
    {
      id: 7,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/1.jpg',
      image_url2: 'assets/propfinn/show-assets/11.jpg',
      image_url3: 'assets/propfinn/show-assets/111.jpg',
      image_url4: 'assets/propfinn/show-assets/1111.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี7',
      area_size: 200,
    },
    {
      id: 8,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/4.jpg',
      image_url2: 'assets/propfinn/show-assets/44.jpg',
      image_url3: 'assets/propfinn/show-assets/444.jpg',
      image_url4: 'assets/propfinn/show-assets/4444.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี8',
      area_size: 200,
    },
    {
      id: 9,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/3.jpg',
      image_url2: 'assets/propfinn/show-assets/33.jpg',
      image_url3: 'assets/propfinn/show-assets/333.jpg',
      image_url4: 'assets/propfinn/show-assets/3333.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี9',
      area_size: 200,
    },
    {
      id: 10,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/2.jpg',
      image_url2: 'assets/propfinn/show-assets/22.jpg',
      image_url3: 'assets/propfinn/show-assets/222.jpg',
      image_url4: 'assets/propfinn/show-assets/2222.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี10',
      area_size: 200,
    },
    {
      id: 11,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/1.jpg',
      image_url2: 'assets/propfinn/show-assets/11.jpg',
      image_url3: 'assets/propfinn/show-assets/111.jpg',
      image_url4: 'assets/propfinn/show-assets/1111.jpg',
      assets_type: 'อาคาร',
      estimated_price: '12.xx',
      credit_limit: '12.xx',
      location: 'นนทบุรี11',
      area_size: 200,
    },
    {
      id: 12,
      jobNumber: 'PF231200021',
      type: 'รีไฟแนนซ์/จำนอง',
      image_name1: 'test_upload.png',
      image_name2: 'test_upload.png',
      image_name3: 'test_upload.png',
      image_name4: 'test_upload.png',
      image_url1: 'assets/propfinn/show-assets/4.jpg',
      image_url2: 'assets/propfinn/show-assets/44.jpg',
      image_url3: 'assets/propfinn/show-assets/444.jpg',
      image_url4: 'assets/propfinn/show-assets/4444.jpg',
      assets_type: 'อาคาร',
      estimated_price: '10.xx',
      credit_limit: '10.xx',
      location: 'นนทบุรี12',
      area_size: 200,
    },
  ];


  constructor(private htmlToImage: HtmlToImageService) { }

  downloadImage(id:any): void {
    console.log(id)
    const html = document.getElementById(id);
    if (!html) {
      return;
    }
    console.log(html)
    this.htmlToImage.createImageFromHtml(html).then(
      (dataUrl) => {
        const link = document.createElement('a');
        link.download = 'image.png';
        link.href = dataUrl;
        link.click();
      }
    )
  }

}
